<style>
:host { display: block; height: 100vh; }
.app { display: flex; flex-direction: column; height: 100%; }

.toolbar {
  display: flex; flex-wrap: wrap; gap: 8px; align-items: center;
  padding: 8px 12px; border-bottom: 1px solid #e5e7eb; background: #fff; position: sticky; top: 0; z-index: 1;
}
.toolbar button.active { background: #1f51ff; color: #fff; }
.toolbar button { padding: 6px 10px; border-radius: 6px; border: 1px solid #d1d5db; background: #f9fafb; }
.toolbar .status { margin-left: auto; color: #6b7280; }

.canvas-wrap { flex: 1; min-height: 0; }
.draw-canvas {
  width: 100%; height: 100%; display: block; background: #fafafa; touch-action: none; cursor: crosshair;
}
</style>

<main class="main">
<div class="app">
  <div class="toolbar">
    <button type="button" [class.active]="mode==='wall'" (click)="setMode('wall')">Draw Walls</button>
    <button type="button" [class.active]="mode==='erase'" (click)="setMode('erase')">Erase</button>
    <button type="button" [class.active]="mode==='start'" (click)="setMode('start')">Set Start</button>
    <button type="button" [class.active]="mode==='end'" (click)="setMode('end')">Set End</button>
    <button type="button" (click)="onClear()">Clear</button>
    <button type="button" [disabled]="!start || !end" (click)="onSolve()">Solve</button>
    <span class="status">Start: {{start?.x}},{{start?.y}} | End: {{end?.x}},{{end?.y}}</span>
  </div>

  <div class="canvas-wrap">
    <canvas
      #canvas
      class="draw-canvas"
      (pointerdown)="onPointerDown($event)"
      (pointermove)="onPointerMove($event)"
      (pointerup)="onPointerUpCancel()"
      (pointercancel)="onPointerUpCancel()"
      (pointerleave)="onPointerUpCancel()"
    ></canvas>
  </div>
</div>
</main>


<router-outlet />
